<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
      
<h:head>
    <meta charset="UTF-8" />
    <title>Gerenciador de Tarefas - Cadastro/Edição</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" />
    <style>
        .form-container { max-width: 600px; margin: 50px auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px; }
        .header-title { background-color: #f8f9fa; padding: 10px; margin: -20px -20px 20px -20px; border-bottom: 1px solid #ddd; }
    </style>
</h:head>

<h:body>
    <div class="container">
        <div class="form-container">
            <div class="header-title">
                <h4 class="m-0">Cadastrar / Editar Tarefa</h4>
            </div>
            
            <h:form id="formCadastro">
                <h:inputHidden value="#{taskMB.task.id}" />

                <div class="form-group">
                    <h:outputLabel for="titulo" value="Título:" />
                    <h:inputText id="titulo" value="#{taskMB.task.title}" class="form-control" />
                </div>

                <div class="form-group">
                    <h:outputLabel for="descricao" value="Descrição:" />
                    <h:inputTextarea id="descricao" value="#{taskMB.task.description}" class="form-control" rows="3" />
                </div>

                <div class="row">
                    <div class="col-md-6 form-group">
                        <h:outputLabel for="responsavel" value="Responsável:" />
                        <h:selectOneMenu id="responsavel" value="#{taskMB.profile.id}" class="form-control">
                            <f:selectItem itemLabel="Selecione..." itemValue="" />
                            <f:selectItems value="#{taskMB.profiles}" var="p" itemLabel="#{p.name}" itemValue="#{p.id}" />
                        </h:selectOneMenu>
                    </div>
                    <div class="col-md-6 form-group">
                        <h:outputLabel for="prioridade" value="Prioridade:" />
                        <h:selectOneMenu id="prioridade" value="#{taskMB.task.priority}" class="form-control">
                            <f:selectItem itemLabel="Selecione..." itemValue="" />
                            <f:selectItem itemLabel="Alta" itemValue="ALTA" />
                            <f:selectItem itemLabel="Média" itemValue="MEDIA" />
                            <f:selectItem itemLabel="Baixa" itemValue="BAIXA" />
                        </h:selectOneMenu>
                    </div>
                </div>

                <div class="form-group">
                    <h:outputLabel for="deadline" value="Deadline:" />
                    <h:inputText id="deadline" value="#{taskMB.task.deadline}" class="form-control" a:placeholder="dd/mm/aaaa" />
                </div>

                <div class="text-center mt-4">
                    <h:commandButton value="Salvar" action="#{taskMB.saveTask()}" class="btn btn-primary px-5" />
                </div>
            </h:form>
        </div>
    </div>
</h:body>
</html>